[gd_scene load_steps=26 format=3 uid="uid://cr4x242k3lcy7"]

[ext_resource type="Script" path="res://level/Frontier/script frontier/FrontierManager.gd" id="2_8hie5"]
[ext_resource type="PackedScene" uid="uid://btq5v1oerbtb3" path="res://level/left.tscn" id="3_4newd"]
[ext_resource type="PackedScene" uid="uid://e0er5pxkpjv3" path="res://level/Frontier/Frontier1.tscn" id="3_vbwgx"]
[ext_resource type="PackedScene" uid="uid://go0ljd5c18y" path="res://level/Map/cage.tscn" id="3_w5mov"]
[ext_resource type="PackedScene" uid="uid://dmp7vxkj4k45e" path="res://Interface/main_ui.tscn" id="4_a3qku"]
[ext_resource type="PackedScene" uid="uid://dqpeitmixryfn" path="res://level/Frontier/Frontier2.tscn" id="4_hvchh"]
[ext_resource type="PackedScene" uid="uid://dkr2ulr4mg80w" path="res://level/Frontier/Frontier3.tscn" id="5_ilr1y"]
[ext_resource type="PackedScene" uid="uid://cu2mm1fip1nxg" path="res://level/game_manager.tscn" id="5_j3dy4"]
[ext_resource type="PackedScene" uid="uid://ch2xuyop2qa14" path="res://level/Frontier/frontier_4.tscn" id="6_i2amw"]
[ext_resource type="PackedScene" uid="uid://ck2p5511y6ott" path="res://level/Frontier/frontier_5.tscn" id="7_b5bwi"]
[ext_resource type="PackedScene" uid="uid://tacqnbxwghou" path="res://level/Frontier/frontier_6.tscn" id="8_1it45"]
[ext_resource type="PackedScene" uid="uid://c80qwqixyvcdl" path="res://level/Frontier/frontier_7.tscn" id="9_4uycu"]
[ext_resource type="PackedScene" uid="uid://drwayk1arr7w4" path="res://level/Frontier/frontier_8.tscn" id="10_qoqoa"]
[ext_resource type="LabelSettings" uid="uid://coe6gt6h5hkva" path="res://Interface/LabelSettings/TitleLabel.tres" id="16_bn1bx"]
[ext_resource type="Script" path="res://Interface/Scripts/Final_score.gd" id="16_dk08a"]
[ext_resource type="Texture2D" uid="uid://civ7n4otj71ki" path="res://Interface/flags/Allemagne.png" id="17_j1f23"]
[ext_resource type="LabelSettings" uid="uid://dtr0oaux0kh4d" path="res://Interface/LabelSettings/SmallTitle.tres" id="18_guecb"]
[ext_resource type="LabelSettings" uid="uid://biwdrmgqcr54x" path="res://Interface/LabelSettings/Score.tres" id="19_k0cdl"]
[ext_resource type="Texture2D" uid="uid://c024iir8uy30y" path="res://Interface/flags/Brasil.png" id="20_iebob"]
[ext_resource type="Texture2D" uid="uid://83r1tiamjjtx" path="res://Interface/affichage/restart.png" id="21_e2x8a"]
[ext_resource type="Texture2D" uid="uid://cdurpvmbubfth" path="res://Interface/affichage/restart_press.png" id="22_d481r"]
[ext_resource type="Texture2D" uid="uid://cuatsvkjknrxb" path="res://Interface/Links/Button/quit normal.png" id="23_cssbi"]
[ext_resource type="Texture2D" uid="uid://bm5ra2iwocv0m" path="res://Interface/Links/fondjeu.jpg" id="24_n1irv"]
[ext_resource type="PackedScene" uid="uid://bhyn4w2p6dm3b" path="res://Interface/But.tscn" id="24_r38w4"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_741jg"]
size = Vector2(16, 896)

[node name="Node2D" type="Node2D"]

[node name="GameManager" parent="." node_paths=PackedStringArray("player1_spawn", "player2_spawn", "ball_spawn") instance=ExtResource("5_j3dy4")]
player1_spawn = NodePath("../Level/Spawn_player_1")
player2_spawn = NodePath("../Level/Spawn_player_2")
ball_spawn = NodePath("../Level/Ball spawn")

[node name="MainUI" parent="." instance=ExtResource("4_a3qku")]
layer = 9

[node name="TimerUI" parent="MainUI/TextureRect" index="0" node_paths=PackedStringArray("gm")]
gm = NodePath("../../../GameManager")

[node name="Player1" parent="MainUI/TextureRect/HBoxContainer" index="0" node_paths=PackedStringArray("gm")]
gm = NodePath("../../../../GameManager")

[node name="player2" parent="MainUI/TextureRect/HBoxContainer" index="2" node_paths=PackedStringArray("gm")]
gm = NodePath("../../../../GameManager")

[node name="MarginContainer2" parent="MainUI" index="1"]
offset_top = 8.0
offset_bottom = 48.0

[node name="Final_score" type="CanvasLayer" parent="." node_paths=PackedStringArray("gamemanager", "playerscore")]
layer = 10
follow_viewport_enabled = true
script = ExtResource("16_dk08a")
gamemanager = NodePath("../GameManager")
playerscore = NodePath("HBoxContainer/Score")

[node name="ColorRect" type="ColorRect" parent="Final_score"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.054902, 0.054902, 0.054902, 0.8)

[node name="Title" type="Label" parent="Final_score"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -576.0
offset_right = 576.0
offset_bottom = 376.0
grow_horizontal = 2
text = "Game Result"
label_settings = ExtResource("16_bn1bx")
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true

[node name="HBoxContainer" type="HBoxContainer" parent="Final_score"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -288.5
offset_top = -150.5
offset_right = 288.5
offset_bottom = 150.5
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Final_score/HBoxContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="Final_score/HBoxContainer/VBoxContainer"]
layout_mode = 2
texture = ExtResource("17_j1f23")

[node name="Label" type="Label" parent="Final_score/HBoxContainer/VBoxContainer"]
layout_mode = 2
text = "Allemagne"
label_settings = ExtResource("18_guecb")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Score" type="Label" parent="Final_score/HBoxContainer"]
layout_mode = 2
text = "4 - 1"
label_settings = ExtResource("19_k0cdl")
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true

[node name="VBoxContainer2" type="VBoxContainer" parent="Final_score/HBoxContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="Final_score/HBoxContainer/VBoxContainer2"]
layout_mode = 2
texture = ExtResource("20_iebob")

[node name="Label2" type="Label" parent="Final_score/HBoxContainer/VBoxContainer2"]
layout_mode = 2
text = "Brasil"
label_settings = ExtResource("18_guecb")
horizontal_alignment = 1
vertical_alignment = 1

[node name="HBoxContainer2" type="HBoxContainer" parent="Final_score"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -344.0
offset_top = -304.0
offset_right = 344.0
offset_bottom = -32.0
grow_horizontal = 2
grow_vertical = 0
alignment = 1

[node name="restart" type="TextureButton" parent="Final_score/HBoxContainer2"]
custom_minimum_size = Vector2(300, 0)
layout_mode = 2
texture_normal = ExtResource("21_e2x8a")
texture_pressed = ExtResource("22_d481r")
ignore_texture_size = true
stretch_mode = 5

[node name="quit" type="TextureButton" parent="Final_score/HBoxContainer2"]
custom_minimum_size = Vector2(300, 0)
layout_mode = 2
texture_normal = ExtResource("23_cssbi")
ignore_texture_size = true
stretch_mode = 5

[node name="But" parent="." instance=ExtResource("24_r38w4")]
offset_left = 1024.0
offset_top = 512.0
offset_right = 1024.0
offset_bottom = 512.0

[node name="Level" type="Node2D" parent="."]
position = Vector2(1024, 512)

[node name="Frontier" type="StaticBody2D" parent="Level" node_paths=PackedStringArray("gamemanager")]
collision_layer = 2
script = ExtResource("2_8hie5")
gamemanager = NodePath("../../GameManager")
frontiers = Array[PackedScene]([ExtResource("3_vbwgx"), ExtResource("4_hvchh"), ExtResource("5_ilr1y"), ExtResource("6_i2amw"), ExtResource("7_b5bwi"), ExtResource("8_1it45"), ExtResource("9_4uycu"), ExtResource("10_qoqoa")])

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Frontier"]
shape = SubResource("RectangleShape2D_741jg")

[node name="Polygon2D" type="Polygon2D" parent="Level/Frontier"]
position = Vector2(-3.05176e-05, -0.511986)
scale = Vector2(0.250001, 1.024)
color = Color(0.4, 0, 0.8, 1)
polygon = PackedVector2Array(-32, -437, -0.343666, -437, 32, -437, 32, 438, 0.499985, 438, -32, 438)

[node name="TimeUntilFirstFrontier" type="Timer" parent="Level/Frontier"]
wait_time = 5.0
one_shot = true

[node name="TimeUntilNextFrontier" type="Timer" parent="Level/Frontier"]
wait_time = 5.0
one_shot = true

[node name="TimeOfFrontier" type="Timer" parent="Level/Frontier"]
wait_time = 10.0
one_shot = true

[node name="Left" parent="Level" instance=ExtResource("3_4newd")]
position = Vector2(-1024, -512)

[node name="Right" parent="Level" instance=ExtResource("3_4newd")]
position = Vector2(1024, -512)
scale = Vector2(-1, 1)

[node name="Ball spawn" type="Node2D" parent="Level"]

[node name="Spawn_player_1" type="Node2D" parent="Level"]
position = Vector2(-680, 0)

[node name="Spawn_player_2" type="Node2D" parent="Level"]
position = Vector2(728, 0)

[node name="Cage" parent="Level" node_paths=PackedStringArray("gamemanager") instance=ExtResource("3_w5mov")]
position = Vector2(-992, 0)
rotation = -3.14159
gamemanager = NodePath("../../GameManager")

[node name="Cage2" parent="Level" node_paths=PackedStringArray("gamemanager") instance=ExtResource("3_w5mov")]
position = Vector2(992, 0)
is_player1 = false
gamemanager = NodePath("../../GameManager")

[node name="Fond" type="Sprite2D" parent="Level"]
z_index = -2
texture = ExtResource("24_n1irv")

[connection signal="on_game_ends" from="GameManager" to="Final_score" method="_on_game_manager_on_game_ends"]
[connection signal="on_game_init" from="GameManager" to="MainUI" method="_on_game_manager_on_game_init"]
[connection signal="on_game_starts" from="GameManager" to="Level/Frontier" method="_begin"]
[connection signal="on_player_score" from="GameManager" to="But" method="_on_game_manager_on_player_score"]
[connection signal="on_player_score" from="GameManager" to="Level/Frontier" method="_on_game_manager_on_player_score"]
[connection signal="pressed" from="Final_score/HBoxContainer2/restart" to="Final_score" method="_on_restart_pressed"]
[connection signal="pressed" from="Final_score/HBoxContainer2/quit" to="Final_score" method="_on_quit_pressed"]
[connection signal="timeout" from="Level/Frontier/TimeUntilFirstFrontier" to="Level/Frontier" method="_on_time_until_frontier_timeout"]
[connection signal="timeout" from="Level/Frontier/TimeUntilNextFrontier" to="Level/Frontier" method="_on_time_until_frontier_timeout"]
[connection signal="timeout" from="Level/Frontier/TimeOfFrontier" to="Level/Frontier" method="_on_time_of_frontier_timeout"]

[editable path="MainUI"]
